

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon_ico.png">
  <link rel="icon" href="/img/favicon_ico.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="分享总结个人的学习路程">
  <meta name="author" content="屠雍">
  <meta name="keywords" content="PCB, 单片机, 物联网, 嵌入式, Java, Linux, Web前端">
  <meta name="description" content="16 条 yyds 的代码规范  如何更规范化编写Java 代码 Many of the happiest people are those who own the least. But are we really so happy with our IPhones, our big houses, our fancy cars? 忘川如斯，拥有一切的人才更怕失去。 背景：如何更规范化编写Java">
<meta property="og:type" content="article">
<meta property="og:title" content="16 条 yyds 的代码规范">
<meta property="og:url" content="http://example.com/2022/03/25/16%20%E6%9D%A1%20yyds%20%E7%9A%84%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/index.html">
<meta property="og:site_name" content="小贝比">
<meta property="og:description" content="16 条 yyds 的代码规范  如何更规范化编写Java 代码 Many of the happiest people are those who own the least. But are we really so happy with our IPhones, our big houses, our fancy cars? 忘川如斯，拥有一切的人才更怕失去。 背景：如何更规范化编写Java">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://tuyong.oss-cn-hangzhou.aliyuncs.com/img/20210729112112.webp">
<meta property="og:image" content="https://tuyong.oss-cn-hangzhou.aliyuncs.com/img/20210729112603.webp">
<meta property="article:published_time" content="2022-03-25T13:46:50.535Z">
<meta property="article:modified_time" content="2022-03-25T13:26:39.452Z">
<meta property="article:author" content="屠雍">
<meta property="article:tag" content="设计架构">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://tuyong.oss-cn-hangzhou.aliyuncs.com/img/20210729112112.webp">
  
  <title>16 条 yyds 的代码规范 - 小贝比</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/atom-one-dark.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.12","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>小贝比的个人博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/background7.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="16 条 yyds 的代码规范">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-03-25 21:46" pubdate>
        2022年3月25日 晚上
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      9.9k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      31 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">16 条 yyds 的代码规范</h1>
            
            <div class="markdown-body">
              <center><h2>16 条 yyds 的代码规范</h2></center>

<p>如何更规范化编写Java 代码</p>
<p>Many of the happiest people are those who own the least. But are we really so happy with our IPhones, our big houses, our fancy cars?</p>
<p>忘川如斯，拥有一切的人才更怕失去。</p>
<p>背景：如何更规范化编写Java 代码的重要性想必毋需多言，其中最重要的几点当属提高代码性能、使代码远离Bug、令代码更优雅。</p>
<h3 id="一、MyBatis-不要为了多个查询条件而写-1-1"><a href="#一、MyBatis-不要为了多个查询条件而写-1-1" class="headerlink" title="一、MyBatis 不要为了多个查询条件而写 1 = 1"></a><strong>一、MyBatis 不要为了多个查询条件而写 1 = 1</strong></h3><p>当遇到多个查询条件，使用where 1=1 可以很方便的解决我们的问题，但是这样很可能会造成非常大的性能损失，因为添加了 “where 1=1 ”的过滤条件之后，数据库系统就无法使用索引等查询优化策略，数据库系统将会被迫对每行数据进行扫描（即全表扫描） 以比较此行是否满足过滤条件，当表中的数据量较大时查询速度会非常慢；此外，还会存在SQL 注入的风险。</p>
<p>反例：</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBookInfo&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;com.tjt.platform.entity.BookInfo&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;java.lang.Integer&quot;</span>&gt;</span><br> select count(*) from t_rule_BookInfo t where 1=1<br><span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title !=null and title !=&#x27;&#x27; &quot;</span>&gt;</span><br> AND title = #&#123;title&#125; <br><span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span> <br><span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author !=null and author !=&#x27;&#x27; &quot;</span>&gt;</span><br> AND author = #&#123;author&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span> <br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBookInfo&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;com.tjt.platform.entity.BookInfo&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;java.lang.Integer&quot;</span>&gt;</span><br> select count(*) from t_rule_BookInfo t<br><span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title !=null and title !=&#x27;&#x27; &quot;</span>&gt;</span><br> title = #&#123;title&#125; <br><span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author !=null and author !=&#x27;&#x27; &quot;</span>&gt;</span> <br> AND author = #&#123;author&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span> <br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></div></td></tr></table></figure>

<p>UPDATE 操作也一样，可以用<set> 标记代替 1=1。</p>
<h3 id="二、-迭代entrySet-获取Map-的key-和value"><a href="#二、-迭代entrySet-获取Map-的key-和value" class="headerlink" title="二、 迭代entrySet() 获取Map 的key 和value"></a><strong>二、 迭代entrySet() 获取Map 的key 和value</strong></h3><p>当循环中只需要获取Map 的主键key时，迭代keySet() 是正确的；但是，当需要主键key 和取值value 时，迭代entrySet() 才是更高效的做法，其比先迭代keySet() 后再去通过get 取值性能更佳。</p>
<p>反例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//Map 获取value 反例:</span><br>HashMap&lt;String, String&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br><span class="hljs-keyword">for</span> (String key : map.keySet())&#123;<br>    String value = map.get(key);<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">  <span class="hljs-comment">//Map 获取key &amp; value 正例:</span><br>HashMap&lt;String, String&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;&gt;(); <br><span class="hljs-keyword">for</span> (Map.Entry&lt;String,String&gt; entry : map.entrySet())&#123;     <br>    String key = entry.getKey();     <br>    String value = entry.getValue();<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h3 id="三、使用Collection-isEmpty-检测空"><a href="#三、使用Collection-isEmpty-检测空" class="headerlink" title="三、使用Collection.isEmpty() 检测空"></a><strong>三、使用Collection.isEmpty() 检测空</strong></h3><p>使用Collection.size() 来检测是否为空在逻辑上没有问题，但是使用Collection.isEmpty() 使得代码更易读，并且可以获得更好的性能；除此之外，任何Collection.isEmpty() 实现的时间复杂度都是O(1) ，不需要多次循环遍历，但是某些通过Collection.size() 方法实现的时间复杂度可能是O(n)。</p>
<p>反例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">LinkedList&lt;Object&gt; collection = <span class="hljs-keyword">new</span> LinkedList&lt;&gt;();<br><span class="hljs-keyword">if</span> (collection.size() == <span class="hljs-number">0</span>)&#123;  <br>    System.out.println(<span class="hljs-string">&quot;collection is empty.&quot;</span>); <br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java">LinkedList&lt;Object&gt; collection = <span class="hljs-keyword">new</span> LinkedList&lt;&gt;();<br>        <span class="hljs-keyword">if</span> (collection.isEmpty())&#123;<br>            System.out.println(<span class="hljs-string">&quot;collection is empty.&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">//检测是否为null 可以使用CollectionUtils.isEmpty()</span><br>        <span class="hljs-keyword">if</span> (CollectionUtils.isEmpty(collection))&#123;<br>            System.out.println(<span class="hljs-string">&quot;collection is null.&quot;</span>);<br><br>        &#125;<br></code></pre></div></td></tr></table></figure>

<h3 id="四、初始化集合时尽量指定其大小"><a href="#四、初始化集合时尽量指定其大小" class="headerlink" title="四、初始化集合时尽量指定其大小"></a><strong>四、初始化集合时尽量指定其大小</strong></h3><p>尽量在初始化时指定集合的大小，能有效减少集合的扩容次数，因为集合每次扩容的时间复杂度很可能时O(n)，耗费时间和性能。</p>
<p>反例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//初始化list，往list 中添加元素反例：</span><br><span class="hljs-keyword">int</span>[] arr = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>&#125;;<br>List&lt;Integer&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i : arr)&#123;  <br>    list.add(i);<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//初始化list，往list 中添加元素正例：  </span><br><span class="hljs-keyword">int</span>[] arr = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>&#125;;  <br><span class="hljs-comment">//指定集合list 的容量大小  </span><br>List&lt;Integer&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;(arr.length);  <br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i : arr)&#123;      <br>    list.add(i);  <br>&#125;<br></code></pre></div></td></tr></table></figure>

<h3 id="五、使用StringBuilder-拼接字符串"><a href="#五、使用StringBuilder-拼接字符串" class="headerlink" title="五、使用StringBuilder 拼接字符串"></a><strong>五、使用StringBuilder 拼接字符串</strong></h3><p>一般的字符串拼接在编译期Java 会对其进行优化，但是在循环中字符串的拼接Java 编译期无法执行优化，所以需要使用StringBuilder 进行替换。</p>
<p>反例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//在循环中拼接字符串反例</span><br>String str = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)&#123;  <br>    <span class="hljs-comment">//在循环中字符串拼接Java 不会对其进行优化  </span><br>    str += i;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//在循环中拼接字符串正例 </span><br>String str1 = <span class="hljs-string">&quot;Love&quot;</span>; <br>String str2 = <span class="hljs-string">&quot;Courage&quot;</span>; <br>String strConcat = str1 + str2;  <br><span class="hljs-comment">//Java 编译器会对该普通模式的字符串拼接进行优化  </span><br>StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();  <br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)&#123;     <br>    <span class="hljs-comment">//在循环中，Java 编译器无法进行优化，所以要手动使用StringBuilder      </span><br>    sb.append(i);  <br>&#125;<br></code></pre></div></td></tr></table></figure>

<h3 id="六、若需频繁调用Collection-contains-方法则使用Set"><a href="#六、若需频繁调用Collection-contains-方法则使用Set" class="headerlink" title="六、若需频繁调用Collection.contains 方法则使用Set"></a><strong>六、若需频繁调用Collection.contains 方法则使用Set</strong></h3><p>在Java 集合类库中，List的contains 方法普遍时间复杂度为O(n)，若代码中需要频繁调用contains 方法查找数据则先将集合list 转换成HashSet 实现，将O(n) 的时间复杂度将为O(1)。</p>
<p>反例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//频繁调用Collection.contains() 反例</span><br>List&lt;Object&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= Integer.MAX_VALUE; i++)&#123;  <br>    <span class="hljs-comment">//时间复杂度为O(n)  </span><br>    <span class="hljs-keyword">if</span> (list.contains(i))  <br>        System.out.println(<span class="hljs-string">&quot;list contains &quot;</span>+ i); <br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//频繁调用Collection.contains() 正例  </span><br>List&lt;Object&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();  <br>Set&lt;Object&gt; set = <span class="hljs-keyword">new</span> HashSet&lt;&gt;();  <br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= Integer.MAX_VALUE; i++)&#123;      <br>    <span class="hljs-comment">//时间复杂度为O(1)      </span><br>    <span class="hljs-keyword">if</span> (set.contains(i))&#123;          <br>        System.out.println(<span class="hljs-string">&quot;list contains &quot;</span>+ i);      <br>    &#125;  <br>&#125;<br></code></pre></div></td></tr></table></figure>

<h3 id="七、使用静态代码块实现赋值静态成员变量"><a href="#七、使用静态代码块实现赋值静态成员变量" class="headerlink" title="七、使用静态代码块实现赋值静态成员变量"></a><strong>七、使用静态代码块实现赋值静态成员变量</strong></h3><p>对于集合类型的静态成员变量，应该使用静态代码块赋值，而不是使用集合实现来赋值。</p>
<p>反例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//赋值静态成员变量反例    </span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Map&lt;String, Integer&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;String, Integer&gt;()&#123;        <br>    &#123;            <br>        map.put(<span class="hljs-string">&quot;Leo&quot;</span>,<span class="hljs-number">1</span>);           <br>        map.put(<span class="hljs-string">&quot;Family-loving&quot;</span>,<span class="hljs-number">2</span>);            <br>        map.put(<span class="hljs-string">&quot;Cold on the out side passionate on the inside&quot;</span>,<span class="hljs-number">3</span>);        <br>    &#125;    <br>&#125;;    <br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;String&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;()&#123;        <br>    &#123;            <br>        list.add(<span class="hljs-string">&quot;Sagittarius&quot;</span>);            <br>        list.add(<span class="hljs-string">&quot;Charming&quot;</span>);            <br>        list.add(<span class="hljs-string">&quot;Perfectionist&quot;</span>);        <br>    &#125;    <br>&#125;;<br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//赋值静态成员变量正例</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Map&lt;String, Integer&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;String, Integer&gt;();    <br><span class="hljs-keyword">static</span> &#123;        <br>    map.put(<span class="hljs-string">&quot;Leo&quot;</span>,<span class="hljs-number">1</span>);        <br>    map.put(<span class="hljs-string">&quot;Family-loving&quot;</span>,<span class="hljs-number">2</span>);        <br>    map.put(<span class="hljs-string">&quot;Cold on the out side passionate on the inside&quot;</span>,<span class="hljs-number">3</span>);    <br>&#125;    <br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;String&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();    <br><span class="hljs-keyword">static</span> &#123;        <br>    list.add(<span class="hljs-string">&quot;Sagittarius&quot;</span>);        <br>    list.add(<span class="hljs-string">&quot;Charming&quot;</span>);        <br>    list.add(<span class="hljs-string">&quot;Perfectionist&quot;</span>);    <br>&#125;<br></code></pre></div></td></tr></table></figure>

<h3 id="八、删除未使用的局部变量、方法参数、私有方法、字段和多余的括号。"><a href="#八、删除未使用的局部变量、方法参数、私有方法、字段和多余的括号。" class="headerlink" title="八、删除未使用的局部变量、方法参数、私有方法、字段和多余的括号。"></a><strong>八、删除未使用的局部变量、方法参数、私有方法、字段和多余的括号。</strong></h3><h3 id="九、工具类中屏蔽构造函数"><a href="#九、工具类中屏蔽构造函数" class="headerlink" title="九、工具类中屏蔽构造函数"></a><strong>九、工具类中屏蔽构造函数</strong></h3><p>工具类是一堆静态字段和函数的集合，其不应该被实例化；但是，Java 为每个没有明确定义构造函数的类添加了一个隐式公有构造函数，为了避免不必要的实例化，应该显式定义私有构造函数来屏蔽这个隐式公有构造函数。</p>
<p>反例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PasswordUtils</span> </span>&#123;  <br>    <span class="hljs-comment">//工具类构造函数反例  </span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Logger LOG = LoggerFactory.getLogger(PasswordUtils.class);<br>    <br>  	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String DEFAULT_CRYPT_ALGO = <span class="hljs-string">&quot;PBEWithMD5AndDES&quot;</span>;<br>    <br>  	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">encryptPassword</span><span class="hljs-params">(String aPassword)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;      <br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PasswordUtils(aPassword).encrypt();  <br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PasswordUtils</span> </span>&#123;  <br>    <span class="hljs-comment">//工具类构造函数正例  </span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Logger LOG = LoggerFactory.getLogger(PasswordUtils.class);<br>    <span class="hljs-comment">//定义私有构造函数来屏蔽这个隐式公有构造函数  </span><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">PasswordUtils</span><span class="hljs-params">()</span></span>&#123;&#125;    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String DEFAULT_CRYPT_ALGO = <span class="hljs-string">&quot;PBEWithMD5AndDES&quot;</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">encryptPassword</span><span class="hljs-params">(String aPassword)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;      <br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PasswordUtils(aPassword).encrypt();  <br>    &#125;<br></code></pre></div></td></tr></table></figure>

<h3 id="十、删除多余的异常捕获并抛出"><a href="#十、删除多余的异常捕获并抛出" class="headerlink" title="十、删除多余的异常捕获并抛出"></a><strong>十、删除多余的异常捕获并抛出</strong></h3><p>用catch 语句捕获异常后，若什么也不进行处理，就只是让异常重新抛出，这跟不捕获异常的效果一样，可以删除这块代码或添加别的处理。</p>
<p>反例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//多余异常反例</span><br><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">fileReader</span><span class="hljs-params">(String fileName)</span><span class="hljs-keyword">throws</span> IOException</span>&#123;<br>    <span class="hljs-keyword">try</span> (BufferedReader reader = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> FileReader(fileName))) &#123;        <br>        String line;        <br>        StringBuilder builder = <span class="hljs-keyword">new</span> StringBuilder();        <br>        <span class="hljs-keyword">while</span> ((line = reader.readLine()) != <span class="hljs-keyword">null</span>) &#123;            <br>            builder.append(line);        <br>        &#125;        <br>        <span class="hljs-keyword">return</span> builder.toString();    <br>    &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;        <br>        <span class="hljs-comment">//仅仅是重复抛异常 未作任何处理        </span><br>        <span class="hljs-keyword">throw</span> e;    <br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//多余异常正例</span><br><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">fileReader</span><span class="hljs-params">(String fileName)</span><span class="hljs-keyword">throws</span> IOException</span>&#123;<br>    <span class="hljs-keyword">try</span> (BufferedReader reader = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> FileReader(fileName))) &#123;        <br>        String line;        <br>        StringBuilder builder = <span class="hljs-keyword">new</span> StringBuilder();        <br>        <span class="hljs-keyword">while</span> ((line = reader.readLine()) != <span class="hljs-keyword">null</span>) &#123;            <br>            builder.append(line);        <br>        &#125;        <br>        <span class="hljs-keyword">return</span> builder.toString();        <br>        <span class="hljs-comment">//删除多余的抛异常，或增加其他处理：        </span><br>        <span class="hljs-comment">/*catch (Exception e) &#123;            </span><br><span class="hljs-comment">        return &quot;fileReader exception&quot;;        </span><br><span class="hljs-comment">        &#125;*/</span>    <br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h3 id="十一、字符串转化使用String-valueOf-value-代替-“-“-value"><a href="#十一、字符串转化使用String-valueOf-value-代替-“-“-value" class="headerlink" title="十一、字符串转化使用String.valueOf(value) 代替 “ “ + value"></a><strong>十一、字符串转化使用String.valueOf(value) 代替 “ “ + value</strong></h3><p>把其它对象或类型转化为字符串时，使用String.valueOf(value) 比 “”+value 的效率更高。</p>
<p>反例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//把其它对象或类型转化为字符串反例：</span><br><span class="hljs-keyword">int</span> num = <span class="hljs-number">520</span>;<br><span class="hljs-comment">// &quot;&quot; + value</span><br>String strLove = <span class="hljs-string">&quot;&quot;</span> + num;<br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//把其它对象或类型转化为字符串正例：</span><br><span class="hljs-keyword">int</span> num = <span class="hljs-number">520</span>;<br><span class="hljs-comment">// String.valueOf() 效率更高</span><br>String strLove = String.valueOf(num);<br></code></pre></div></td></tr></table></figure>

<h3 id="十二、避免使用BigDecimal-double"><a href="#十二、避免使用BigDecimal-double" class="headerlink" title="十二、避免使用BigDecimal(double)"></a><strong>十二、避免使用BigDecimal(double)</strong></h3><p>BigDecimal(double) 存在精度损失风险，在精确计算或值比较的场景中可能会导致业务逻辑异常。</p>
<p>反例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">// BigDecimal 反例</span><br>BigDecimal bigDecimal = <span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-number">0.11D</span>);<br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">// BigDecimal 正例</span><br>BigDecimal bigDecimal1 = bigDecimal.valueOf(<span class="hljs-number">0.11D</span>);<br></code></pre></div></td></tr></table></figure>

<center>图1. 失去精度</center>

<p><img src="https://tuyong.oss-cn-hangzhou.aliyuncs.com/img/20210729112112.webp" srcset="/img/loading.gif" lazyload alt="图片"></p>
<h3 id="十三、返回空数组和集合而非-null"><a href="#十三、返回空数组和集合而非-null" class="headerlink" title="十三、返回空数组和集合而非 null"></a><strong>十三、返回空数组和集合而非 null</strong></h3><p>若程序运行返回null，需要调用方强制检测null，否则就会抛出空指针异常；返回空数组或空集合，有效地避免了调用方因为未检测null 而抛出空指针异常的情况，还可以删除调用方检测null 的语句使代码更简洁。</p>
<p>反例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//返回null 反例</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Result[] getResults() &#123;    <br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Result&gt; <span class="hljs-title">getResultList</span><span class="hljs-params">()</span> </span>&#123;    <br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Map&lt;String, Result&gt; <span class="hljs-title">getResultMap</span><span class="hljs-params">()</span> </span>&#123;    <br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//返回空数组和空集正例</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Result[] getResults() &#123;    <br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Result[<span class="hljs-number">0</span>];<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Result&gt; <span class="hljs-title">getResultList</span><span class="hljs-params">()</span> </span>&#123;    <br>    <span class="hljs-keyword">return</span> Collections.emptyList();<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Map&lt;String, Result&gt; <span class="hljs-title">getResultMap</span><span class="hljs-params">()</span> </span>&#123;    <br>    <span class="hljs-keyword">return</span> Collections.emptyMap();<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h3 id="十四、优先使用常量或确定值调用equals-方法"><a href="#十四、优先使用常量或确定值调用equals-方法" class="headerlink" title="十四、优先使用常量或确定值调用equals 方法"></a><strong>十四、优先使用常量或确定值调用equals 方法</strong></h3><p>对象的equals 方法容易抛空指针异常，应使用常量或确定有值的对象来调用equals 方法。</p>
<p>反例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"> <span class="hljs-comment">//调用 equals 方法反例</span><br><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">fileReader</span><span class="hljs-params">(String fileName)</span><span class="hljs-keyword">throws</span> IOException</span>&#123;   <br>    <span class="hljs-comment">// 可能抛空指针异常   </span><br>    <span class="hljs-keyword">return</span> fileName.equals(<span class="hljs-string">&quot;Charming&quot;</span>); <br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//调用 equals 方法正例</span><br><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">fileReader</span><span class="hljs-params">(String fileName)</span><span class="hljs-keyword">throws</span> IOException</span>&#123;<br>    <span class="hljs-comment">// 使用常量或确定有值的对象来调用 equals 方法    </span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Charming&quot;</span>.equals(fileName);        <br>    <span class="hljs-comment">//或使用：java.util.Objects.equals() 方法   </span><br>    <span class="hljs-keyword">return</span> Objects.equals(<span class="hljs-string">&quot;Charming&quot;</span>,fileName); <br>&#125;<br></code></pre></div></td></tr></table></figure>

<h3 id="十五、枚举的属性字段必须是私有且不可变"><a href="#十五、枚举的属性字段必须是私有且不可变" class="headerlink" title="十五、枚举的属性字段必须是私有且不可变"></a><strong>十五、枚举的属性字段必须是私有且不可变</strong></h3><p>枚举通常被当做常量使用，如果枚举中存在公共属性字段或设置字段方法，那么这些枚举常量的属性很容易被修改；理想情况下，枚举中的属性字段是私有的，并在私有构造函数中赋值，没有对应的Setter 方法，最好加上final 修饰符。</p>
<p>反例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">SwitchStatus</span> </span>&#123;    <br>    <span class="hljs-comment">// 枚举的属性字段反例    </span><br>    DISABLED(<span class="hljs-number">0</span>, <span class="hljs-string">&quot;禁用&quot;</span>),    <br>    ENABLED(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;启用&quot;</span>);<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> value;    <br>    <span class="hljs-keyword">private</span> String description;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">SwitchStatus</span><span class="hljs-params">(<span class="hljs-keyword">int</span> value, String description)</span> </span>&#123;        <br>        <span class="hljs-keyword">this</span>.value = value;        <br>        <span class="hljs-keyword">this</span>.description = description;    <br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getDescription</span><span class="hljs-params">()</span> </span>&#123;       <br>        <span class="hljs-keyword">return</span> description;    <br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setDescription</span><span class="hljs-params">(String description)</span> </span>&#123;        <br>        <span class="hljs-keyword">this</span>.description = description;    <br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">SwitchStatus</span> </span>&#123;    <br>    <span class="hljs-comment">// 枚举的属性字段正例    </span><br>    DISABLED(<span class="hljs-number">0</span>, <span class="hljs-string">&quot;禁用&quot;</span>),    <br>    ENABLED(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;启用&quot;</span>);<br>    <span class="hljs-comment">// final 修饰    </span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> value;    <br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String description;<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">SwitchStatus</span><span class="hljs-params">(<span class="hljs-keyword">int</span> value, String description)</span> </span>&#123;        <br>        <span class="hljs-keyword">this</span>.value = value;        <br>        <span class="hljs-keyword">this</span>.description = description;    <br>    &#125;<br>    <br>    <span class="hljs-comment">// 没有Setter 方法    </span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getValue</span><span class="hljs-params">()</span> </span>&#123;        <br>        <span class="hljs-keyword">return</span> value;    <br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getDescription</span><span class="hljs-params">()</span> </span>&#123;        <br>        <span class="hljs-keyword">return</span> description;    <br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h3 id="十六、tring-split-String-regex-部分关键字需要转译"><a href="#十六、tring-split-String-regex-部分关键字需要转译" class="headerlink" title="十六、tring.split(String regex)部分关键字需要转译"></a><strong>十六、tring.split(String regex)部分关键字需要转译</strong></h3><p>使用字符串String 的plit 方法时，传入的分隔字符串是正则表达式，则部分关键字（比如 .<a href=""></a>| 等）需要转义。</p>
<p>反例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"> <span class="hljs-comment">// String.split(String regex) 反例</span><br>String[] split = <span class="hljs-string">&quot;a.ab.abc&quot;</span>.split(<span class="hljs-string">&quot;.&quot;</span>);<br>System.out.println(Arrays.toString(split));   <span class="hljs-comment">// 结果为[]</span><br><br>String[] split1 = <span class="hljs-string">&quot;a|ab|abc&quot;</span>.split(<span class="hljs-string">&quot;|&quot;</span>);<br>System.out.println(Arrays.toString(split1));  <span class="hljs-comment">// 结果为[&quot;a&quot;, &quot;|&quot;, &quot;a&quot;, &quot;b&quot;, &quot;|&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span><br></code></pre></div></td></tr></table></figure>

<p>正例：</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">// String.split(String regex) 正例</span><br><span class="hljs-comment">// . 需要转译</span><br>String[] split2 = <span class="hljs-string">&quot;a.ab.abc&quot;</span>.split(<span class="hljs-string">&quot;\\.&quot;</span>);<br>System.out.println(Arrays.toString(split2));  <span class="hljs-comment">// 结果为[&quot;a&quot;, &quot;ab&quot;, &quot;abc&quot;]</span><br><br><span class="hljs-comment">// | 需要转译</span><br>String[] split3 = <span class="hljs-string">&quot;a|ab|abc&quot;</span>.split(<span class="hljs-string">&quot;\\|&quot;</span>);<br>System.out.println(Arrays.toString(split3));  <span class="hljs-comment">// 结果为[&quot;a&quot;, &quot;ab&quot;, &quot;abc&quot;]</span><br></code></pre></div></td></tr></table></figure>

<center>图2. String.split(String regex) 正反例</center>

<p><img src="https://tuyong.oss-cn-hangzhou.aliyuncs.com/img/20210729112603.webp" srcset="/img/loading.gif" lazyload alt="图片"></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E8%AE%BE%E8%AE%A1%E6%9E%B6%E6%9E%84/">设计架构</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E8%AE%BE%E8%AE%A1%E6%9E%B6%E6%9E%84/">设计架构</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/03/25/16%E4%B8%AA%20Redis%20%E5%B8%B8%E8%A7%81%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">16个Redis常见使用场景</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/03/25/14%20%E4%B8%AA%E5%86%99%20Java%20%E7%9A%84%E4%B9%A0%E6%83%AF/">
                        <span class="hidden-mobile">14 个写 Java 的习惯</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://github.com/xiaobeibi" target="_blank" rel="nofollow noopener"><span>Github</span></a> <i class="iconfont icon-love"></i> <a href="https://gitee.com/tytokongjian" target="_blank" rel="nofollow noopener"><span>Gitee</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
